<ng-content></ng-content>

<hal-app-list [appListDomainUrl]="appListDomainUrl"></hal-app-list>

<button  class="user-button" (click)="popupIsOpen = !popupIsOpen" cdkOverlayOrigin #popupTrigger="cdkOverlayOrigin">
  <!--  TODO when img system works -->
  <img *ngIf="user?.thumbnail"  class="hdd-header-user_icon-image" src="http://placekitten.com/150/150" />
  <div *ngIf="!user?.thumbnail" class="hdd-header-user_icon-no-image">
    {{initials}}
  </div>
</button>

<div class="hdd-header-user_name">
  {{ user?.name }}
</div>

<hal-popup-connected [isOpen]="popupIsOpen" [origin]="popupTrigger" [small]="true" (popupClose)="popupIsOpen = false">
  <div class="hdd-user-menu" cdkTrapFocus>

    <!--  TODO when img system works -->
    <img *ngIf="user?.thumbnail"  class="hdd-user-menu_image" src="http://placekitten.com/150/150" />

    <div *ngIf="!user?.thumbnail"  class="hdd-user-menu_initials">
      {{initials}}
    </div>

    <div class="hdd-user-menu_name">
      {{ user?.name }}
    </div>
    <div class="hdd-user-menu_email">
      <ng-container *ngIf="user">
        {{ user.email | lowercase }}
      </ng-container>
    </div>
    <div class="hdd-user-menu_menu-element">
      <a class="hdd-button has-icon is-transparent" [routerLink]="['', settingsPagePath]"><i
          class="fal fa-cog"></i>Settings</a>
    </div>
    <div class="hdd-user-menu_menu-element">
      <a class="hdd-button has-icon is-transparent" [routerLink]="['', signOutPagePath]"><i
          class="fal fa-sign-out"></i>Sign out</a>
    </div>
  </div>
</hal-popup-connected>
